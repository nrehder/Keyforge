<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" routerLink="/">Unofficial Keyforge Tournaments</a>
    <button class="navbar-toggler" type="button" (click)="navbarToggle()">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div *ngIf="authService.user | async; then authenticated; else guest"></div>

    <ng-template #authenticated>
        <div class="collapse navbar-collapse" [ngClass]="{ show: navbarOpen }">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" routerLink="/">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a
                        class="nav-link dropdown-toggle"
                        id="navbarDropdown"
                        role="button"
                        (click)="tournamentToggle()"
                        style="cursor:pointer;"
                    >
                        Tournaments
                    </a>
                    <div
                        class="dropdown-menu"
                        [ngClass]="{ show: tournamentDropdown }"
                    >
                        <a class="dropdown-item" routerLink="/tournaments"
                            >Active Tournaments</a
                        >
                        <a
                            class="dropdown-item"
                            routerLink="/tournaments/create"
                            >New Tournament</a
                        >
                        <a class="dropdown-item" routerLink="/finished"
                            >Finished Tournaments</a
                        >
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a
                        class="nav-link dropdown-toggle"
                        id="navbarDropdown"
                        role="button"
                        (click)="deckToggle()"
                        style="cursor:pointer;"
                    >
                        Decks
                    </a>
                    <div
                        class="dropdown-menu"
                        [ngClass]="{ show: deckDropdown }"
                    >
                        <a class="dropdown-item" href="#">My Decks</a>
                        <a class="dropdown-item" href="#">Search Decks</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Individal Game</a>
                </li>
                <li class="nav-item">
                    <a
                        class="nav-link"
                        style="cursor:pointer"
                        (click)="authService.signOut()"
                        >Log Out</a
                    >
                </li>
            </ul>
        </div>
    </ng-template>

    <ng-template #guest>
        <div class="collapse navbar-collapse" [ngClass]="{ show: navbarOpen }">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" routerLink="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" routerLink="/login">Log In</a>
                </li>
            </ul>
        </div>
    </ng-template>
</nav>
